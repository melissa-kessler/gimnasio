"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.timestampToTimeObject = void 0;
const math_1 = require("./math");
const sd = 1000;
const md = sd * 60;
const hd = md * 60;
const cond = (v, l) => {
    return v ? v + l : "";
};
const timeObject = (h, m, s, ms = 0) => {
    return {
        h,
        m,
        s,
        ms,
        get timestamp() {
            return h * hd + m * md + s * sd + ms;
        },
        toString() {
            const h = cond(this.h, "h");
            const m = cond(this.m, "m");
            const s = cond(this.s, "s");
            const ms = cond(this.ms, "ms");
            return [ms, s, m, h]
                .filter((interval) => interval)
                .reduce((prev, curr) => (prev === "" ? curr : curr + " " + prev), "");
        },
    };
};
const timestampToTimeObject = (timestamp) => {
    const h = math_1.intDiv(timestamp, hd);
    timestamp -= h * hd;
    const m = math_1.intDiv(timestamp, md);
    timestamp -= m * md;
    const s = math_1.intDiv(timestamp, sd);
    timestamp -= s * sd;
    return timeObject(h, m, s, timestamp);
};
exports.timestampToTimeObject = timestampToTimeObject;
